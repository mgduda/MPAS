<?xml version="1.0"?>
<registry model="mpas" core="init_atmosphere" version="3.0">

<!-- **************************************************************************************** -->
<!-- ************************************** Dimensions ************************************** -->
<!-- **************************************************************************************** -->

        <dims>
                <dim name="nCells"
                     description="The number of Voronoi cells in the primal mesh"/>
                <dim name="nEdges"
                     description="The number of cell faces (edges) in the primal and dual meshes"/>
                <dim name="maxEdges"
                     description="The largest number of neighbors that a primal mesh cell may have"/>
                <dim name="maxEdges2"
                     description="Twice the value of maxEdges"/>
                <dim name="nVertices"
                     description="The number of Delaunay triangles in the dual mesh, equivalent to the number of cell corners in the primal mesh"/>
                <dim name="vertexDegree"
                     description="The number of edges or cells that meet at vertices"/>
                <dim name="TWO"                definition="2"
                     description="A constant value of 2"/>
                <dim name="THREE"              definition="3"
                     description="A constant value of 3"/>
                <dim name="FIFTEEN"            definition="15"
                     description="A constant value of 15"/>
                <dim name="TWENTYONE"          definition="21"
                     description="A constant value of 21"/>
                <dim name="R3"                 definition="3"
                     description="The dimensionality of vectors in $\Re^3$"/>
                <dim name="nVertLevels"        definition="namelist:config_nvertlevels"
                     description="The number of atmospheric layers"/>
                <dim name="nVertLevelsP1"      definition="nVertLevels+1"
                     description="The number of atmospheric levels, always one more than the number of layers"/>
                <dim name="nSoilLevels"        definition="namelist:config_nsoillevels"
                     description="The number of layers used by the land-surface scheme"/>
                <dim name="nFGLevels"          definition="namelist:config_nfglevels"
                     description="The maximum number of atmospheric layers in the initial condition (first-guess) data"/>
                <dim name="nFGSoilLevels"      definition="namelist:config_nfgsoillevels"
                     description="The number of soil layers in the initial condition (first-guess) data"/>
                <dim name="nMonths"            definition="namelist:config_months"
                     description="The number of months in a year"/>
        </dims>


<!-- **************************************************************************************** -->
<!-- ************************************** Namelists *************************************** -->
<!-- **************************************************************************************** -->

        <nml_record name="nhyd_model" in_defaults="true">
                <nml_option name="config_init_case" type="integer" default_value="7"
                     units="-"
                     description="Type of initial condition to be created"
                     possible_values="1 (Jablonowski and Williamson baroclinic wave -- no initial perturbation) \newline 2 (Jablonowski and Williamson baroclinic wave -- with initial perturbation) \newline 3 (Jablonowski and Williamson baroclinic wave -- with normal-mode perturbation) \newline 4 (squall line) \newline 5 (super-cell) \newline 6 (mountain wave) \newline 7 (real-data initial conditions from, e.g., GFS) \newline 8 (SST and sea-ice update file for use with real-data simulations)"/>

                <nml_option name="config_calendar_type" type="character" default_value="gregorian" in_defaults="false"
                     units="-"
                     description="Simulation calendar"
                     possible_values="`gregorian',`gregorian_noleap'"/>

                <nml_option name="config_start_time" type="character" default_value="2010-10-23_00:00:00"
                     units="-"
                     description="Valid time of first-guess data, or time to begin processing SST and sea-ice fields; used only by init_case 7 and 8"
                     possible_values="`YYYY-MM-DD_hh:mm:ss'"/>

                <nml_option name="config_stop_time" type="character" default_value="none" in_defaults="false"
                     units="-"
                     description="Time to end processing processing of SST and sea-ice fields; used only by init_case 8"
                     possible_values="`YYYY-MM-DD_hh:mm:ss'"/>

                <nml_option name="config_theta_adv_order" type="integer" default_value="3"
                     units="-"
                     description="Horizontal advection order for theta"
                     possible_values="2, 3, or 4"/>

                <nml_option name="config_coef_3rd_order" type="real" default_value="0.25"
                     units="-"
                     description="Upwinding coefficient in the 3rd order advection scheme"
                     possible_values="0 $\leq$ config_coef_3rd_order $\leq$ 1"/>

                <nml_option name="config_num_halos" type="integer" default_value="2" in_defaults="false"
                     units="-"
                     description="Number of halo layers for fields"
                     possible_values="Integer values, typically 2 or 3; DO NOT CHANGE"/>

        </nml_record>

        <nml_record name="dimensions" in_defaults="true">
                <nml_option name="config_nvertlevels" type="integer" default_value="41"
                     units="-"
                     description="The number of atmospheric layers in the MPAS-A vertical grid"
                     possible_values="Positive integer values"/>

                <nml_option name="config_nsoillevels" type="integer" default_value="4"
                     units="-"
                     description="The number of layers used by the land-surface scheme; used only by init_case 7"
                     possible_values="Positive integer values"/>

                <nml_option name="config_nfglevels" type="integer" default_value="38"
                     units="-"
                     description="The maximum number of atmospheric layers in the initial condition (first-guess) data; used only by init_case 7"
                     possible_values="Positive integer values"/>

                <nml_option name="config_nfgsoillevels" type="integer" default_value="4"
                     units="-"
                     description="The number of soil layers in the initial condition (first-guess) data; used only by init_case 7"
                     possible_values="Positive integer values"/>

                <nml_option name="config_months" type="integer" default_value="12" in_defaults="false"
                     units="-"
                     description="The number of months in a year"
                     possible_values="Positive integer values; DO NOT CHANGE"/>

        </nml_record>

        <nml_record name="data_sources" in_defaults="true">
                <nml_option name="config_geog_data_path" type="character" default_value="/glade/p/work/wrfhelp/WPS_GEOG/"
                     units="-"
                     description="Path to the WPS static geographical datasets; used only by init_case 7"
                     possible_values="Any valid pathname"/>

                <nml_option name="config_met_prefix" type="character" default_value="CFSR"
                     units="-"
                     description="The prefix of WPS intermediate files contain atmosphere and land-surface fields; used only by init_case 7"
                     possible_values="Character string"/>

                <nml_option name="config_sfc_prefix" type="character" default_value="SST"
                     units="-"
                     description="The prefix of WPS intermediate files containing LANDSEA, SEAICE, and SST fields; used by init_case 7 and 8"
                     possible_values="Character string"/>

                <nml_option name="config_fg_interval" type="integer" default_value="21600"
                     units="s"
                     description="The interval, in seconds, between WPS intermediate files"
                     possible_values="Positive integer values"/>

                <nml_option name="config_landuse_data" type="character" default_value="USGS"
                     units="-"
                     description="Land use data source"
                     possible_values="`USGS' or `MODIFIED_IGBP_MODIS_NOAH'"/>

        </nml_record>

        <nml_record name="vertical_grid" in_defaults="true">
                <nml_option name="config_ztop" type="real" default_value="30000.0"
                     units="m MSL"
                     description="Height, in meters, above mean sea level of the model top"
                     possible_values="Positive integer values"/>

                <nml_option name="config_nsmterrain" type="integer" default_value="1"
                     units="-"
                     description="Number of smoothing passes applied to interpolated terrain"
                     possible_values="Non-negative integer values, typically 0, 1 or 2"/>

                <nml_option name="config_smooth_surfaces" type="logical" default_value="true"
                     units="-"
                     description="Whether to smooth vertical coordinate surfaces"
                     possible_values=".true. or .false."/>

        </nml_record>

        <nml_record name="preproc_stages" in_defaults="true">
                <nml_option name="config_static_interp" type="logical" default_value="true"
                     units="-"
                     description="Whether to interpolate WPS static fields; used only by init_case 7"
                     possible_values=".true. or .false."/>

                <nml_option name="config_vertical_grid" type="logical" default_value="true"
                     units="-"
                     description="Whether to generate a vertical grid; used only by init_case 7"
                     possible_values=".true. or .false."/>

                <nml_option name="config_met_interp" type="logical" default_value="true"
                     units="-"
                     description="Whether to interpolate first-guess fields from WPS intermediate file; used only by init_case 7"
                     possible_values=".true. or .false."/>

                <nml_option name="config_input_sst" type="logical" default_value="false"
                     units="-"
                     description="Whether to re-compute SST and sea-ice fields from surface input dataset"
                     possible_values=".true. or .false."/>

                <nml_option name="config_frac_seaice" type="logical" default_value="false"
                     units="-"
                     description="Whether to switch sea-ice threshold from 0.5 to 0.02"
                     possible_values=".true. or .false."/>

        </nml_record>

        <nml_record name="io" in_defaults="true">
                <nml_option name="config_pio_num_iotasks" type="integer" default_value="0"
                     units="-"
                     description="Number of tasks to perform file I/O"
                     possible_values="Integer valued, 0 $\leq$ config_pio_num_iotasks $\leq$ \# MPI tasks, 0 indicates all tasks perform I/O"/>

                <nml_option name="config_pio_stride" type="integer" default_value="1"
                     units="-"
                     description="Stride between file I/O tasks"
                     possible_values="Integer valued, $\leq$ (\# MPI tasks) / config_pio_num_iotasks"/>

        </nml_record>

        <nml_record name="decomposition" in_defaults="true">

                <nml_option name="config_block_decomp_file_prefix" type="character" default_value="x1.40962.graph.info.part."
                     units="-"
                     description="Prefix of graph decomposition file, to be suffixed with the MPI task count"
                     possible_values="Any valid filename"/>

                <nml_option name="config_number_of_blocks" type="integer" default_value="0" in_defaults="false"
                     units="-"
                     description="Number of blocks to assign to each MPI task"
                     possible_values="Positive integer values"/>

                <nml_option name="config_explicit_proc_decomp" type="logical" default_value="false" in_defaults="false"
                     units="-"
                     description="Whether to use an explicit mapping of blocks to MPI tasks"
                     possible_values=".true. or .false."/>

                <nml_option name="config_proc_decomp_file_prefix" type="character" default_value="graph.info.part." in_defaults="false"
                     units="-"
                     description="Prefix of block mapping file"
                     possible_values="Any valid filename"/>

        </nml_record>


<!-- **************************************************************************************** -->
<!-- **************************************  Packages  ************************************** -->
<!-- **************************************************************************************** -->
        <packages>
                <package name="initial_conds" description="Used by test cases that produce initial conditions."/>
                <package name="sfc_update" description="Used by test cases that produce surface updates."/>
        </packages>


<!-- **************************************************************************************** -->
<!-- *************************************** Streams **************************************** -->
<!-- **************************************************************************************** -->

	<streams>
		<stream name="input" 
                        type="input" 
                        filename_template="x1.40962.grid.nc"
                        input_interval="initial_only" 
                        immutable="true">

			<var name="latCell"/>
			<var name="lonCell"/>
			<var name="xCell"/>
			<var name="yCell"/>
			<var name="zCell"/>
			<var name="indexToCellID"/>
			<var name="latEdge"/>
			<var name="lonEdge"/>
			<var name="xEdge"/>
			<var name="yEdge"/>
			<var name="zEdge"/>
			<var name="indexToEdgeID"/>
			<var name="latVertex"/>
			<var name="lonVertex"/>
			<var name="xVertex"/>
			<var name="yVertex"/>
			<var name="zVertex"/>
			<var name="indexToVertexID"/>
			<var name="cellsOnEdge"/>
			<var name="nEdgesOnCell"/>
			<var name="nEdgesOnEdge"/>
			<var name="edgesOnCell"/>
			<var name="edgesOnEdge"/>
			<var name="weightsOnEdge"/>
			<var name="dvEdge"/>
			<var name="dcEdge"/>
			<var name="angleEdge"/>
			<var name="areaCell"/>
			<var name="areaTriangle"/>
			<var name="edgeNormalVectors"/>
			<var name="localVerticalUnitVectors"/>
			<var name="cellTangentPlane"/>
			<var name="cellsOnCell"/>
			<var name="verticesOnCell"/>
			<var name="verticesOnEdge"/>
			<var name="edgesOnVertex"/>
			<var name="cellsOnVertex"/>
			<var name="kiteAreasOnVertex"/>
			<var name="fEdge"/>
			<var name="fVertex"/>
			<var name="meshDensity"/>
			<var name="cf1"/>
			<var name="cf2"/>
			<var name="cf3"/>
			<var name="ter"/>
			<var name="landmask"/>
			<var name="ivgtyp"/>
			<var name="mminlu"/>
			<var name="isltyp"/>
			<var name="soilcat_bot"/>
			<var name="snoalb"/>
			<var name="soiltemp"/>
			<var name="greenfrac"/>
			<var name="shdmin"/>
			<var name="shdmax"/>
			<var name="albedo12m"/>
			<var name="varsso"/>
			<var name="var2d"/>
			<var name="con"/>
			<var name="oa1"/>
			<var name="oa2"/>
			<var name="oa3"/>
			<var name="oa4"/>
			<var name="ol1"/>
			<var name="ol2"/>
			<var name="ol3"/>
			<var name="ol4"/>
			<var name="hx"/>
			<var name="zgrid"/>
			<var name="rdzw"/>
			<var name="dzu"/>
			<var name="rdzu"/>
			<var name="fzm"/>
			<var name="fzp"/>
			<var name="zx"/>
			<var name="zz"/>
			<var name="zb"/>
			<var name="zb3"/>
			<var name="dss"/>
			<var name="u_init"/>
			<var name="t_init"/>
			<var name="qv_init"/>
			<var name="deriv_two"/>
			<var name="advCells"/>
			<var name="defc_a"/>
			<var name="defc_b"/>
			<var name="coeffs_reconstruct"/>
			<var name="soilz_fg"/>
			<var name="dz_fg"/>
			<var name="dzs_fg"/>
			<var name="zs_fg"/>
			<var name="st_fg"/>
			<var name="sm_fg"/>
			<var name="dz"/>
			<var name="dzs"/>
			<var name="zs"/>
			<var name="sh2o"/>
			<var name="smois"/>
			<var name="tslb"/>
			<var name="smcrel"/>
			<var name="tmn"/>
			<var name="skintemp"/>
			<var name="sst"/>
			<var name="snow"/>
			<var name="snowc"/>
			<var name="snowh"/>
			<var name="xice"/>
			<var name="seaice"/>
			<var name="vegfra"/>
			<var name="sfc_albbck"/>
			<var name="xland"/>
			<var name="exner_base"/>
			<var name="pressure_base"/>
			<var name="rho_base"/>
			<var name="theta_base"/>
			<var name="surface_pressure"/>
		</stream>

		<stream name="output" 
                        type="output" 
                        filename_template="x1.40962.init.nc"
                        output_interval="initial_only"
                        packages="initial_conds"
                        runtime_format="separate_file">

			<var name="latCell"/>
			<var name="lonCell"/>
			<var name="xCell"/>
			<var name="yCell"/>
			<var name="zCell"/>
			<var name="indexToCellID"/>
			<var name="latEdge"/>
			<var name="lonEdge"/>
			<var name="xEdge"/>
			<var name="yEdge"/>
			<var name="zEdge"/>
			<var name="indexToEdgeID"/>
			<var name="latVertex"/>
			<var name="lonVertex"/>
			<var name="xVertex"/>
			<var name="yVertex"/>
			<var name="zVertex"/>
			<var name="indexToVertexID"/>
			<var name="cellsOnEdge"/>
			<var name="nEdgesOnCell"/>
			<var name="nEdgesOnEdge"/>
			<var name="edgesOnCell"/>
			<var name="edgesOnEdge"/>
			<var name="weightsOnEdge"/>
			<var name="dvEdge"/>
			<var name="dcEdge"/>
			<var name="angleEdge"/>
			<var name="areaCell"/>
			<var name="areaTriangle"/>
			<var name="edgeNormalVectors"/>
			<var name="localVerticalUnitVectors"/>
			<var name="cellTangentPlane"/>
			<var name="cellsOnCell"/>
			<var name="verticesOnCell"/>
			<var name="verticesOnEdge"/>
			<var name="edgesOnVertex"/>
			<var name="cellsOnVertex"/>
			<var name="kiteAreasOnVertex"/>
			<var name="fEdge"/>
			<var name="fVertex"/>
			<var name="meshDensity"/>
			<var name="cf1"/>
			<var name="cf2"/>
			<var name="cf3"/>
			<var name="ter"/>
			<var name="landmask"/>
			<var name="ivgtyp"/>
			<var name="mminlu"/>
			<var name="isltyp"/>
			<var name="soilcat_bot"/>
			<var name="snoalb"/>
			<var name="soiltemp"/>
			<var name="greenfrac"/>
			<var name="shdmin"/>
			<var name="shdmax"/>
			<var name="albedo12m"/>
			<var name="varsso"/>
			<var name="var2d"/>
			<var name="con"/>
			<var name="oa1"/>
			<var name="oa2"/>
			<var name="oa3"/>
			<var name="oa4"/>
			<var name="ol1"/>
			<var name="ol2"/>
			<var name="ol3"/>
			<var name="ol4"/>
			<var name="hx"/>
			<var name="zgrid"/>
			<var name="rdzw"/>
			<var name="dzu"/>
			<var name="rdzu"/>
			<var name="fzm"/>
			<var name="fzp"/>
			<var name="zx"/>
			<var name="zz"/>
			<var name="zb"/>
			<var name="zb3"/>
			<var name="dss"/>
			<var name="u_init"/>
			<var name="t_init"/>
			<var name="qv_init"/>
			<var name="deriv_two"/>
			<var name="advCells"/>
			<var name="defc_a"/>
			<var name="defc_b"/>
			<var name="coeffs_reconstruct"/>
			<var_array name="scalars"/>
			<var name="xtime"/>
			<var name="u"/>
			<var name="w"/>
			<var name="rho_zz"/>
			<var name="theta_m"/>
			<var name="t_fg"/>
			<var name="p_fg"/>
			<var name="z_fg"/>
			<var name="rh_fg"/>
			<var name="soilz_fg"/>
			<var name="dz_fg"/>
			<var name="dzs_fg"/>
			<var name="zs_fg"/>
			<var name="st_fg"/>
			<var name="sm_fg"/>
			<var name="dz"/>
			<var name="dzs"/>
			<var name="zs"/>
			<var name="sh2o"/>
			<var name="smois"/>
			<var name="tslb"/>
			<var name="smcrel"/>
			<var name="tmn"/>
			<var name="skintemp"/>
			<var name="sst"/>
			<var name="snow"/>
			<var name="snowc"/>
			<var name="snowh"/>
			<var name="xice"/>
			<var name="seaice"/>
			<var name="vegfra"/>
			<var name="sfc_albbck"/>
			<var name="xland"/>
			<var name="rho"/>
			<var name="theta"/>
			<var name="v"/>
			<var name="rh"/>
			<var name="uReconstructX"/>
			<var name="uReconstructY"/>
			<var name="uReconstructZ"/>
			<var name="uReconstructZonal"/>
			<var name="uReconstructMeridional"/>
			<var name="exner_base"/>
			<var name="pressure_base"/>
			<var name="rho_base"/>
			<var name="theta_base"/>
			<var name="surface_pressure"/>
			<var name="precipw"/>
		</stream>

		<stream name="surface" 
                        type="output" 
                        filename_template="x1.40962.sfc_update.nc"
                        output_interval="none" 
                        filename_interval="none"
                        packages="sfc_update"
                        immutable="true">

			<var name="xtime"/>
			<var name="sst"/>
			<var name="xice"/>
		</stream>

	</streams>


<!-- **************************************************************************************** -->
<!-- ************************************** Variables *************************************** -->
<!-- **************************************************************************************** -->

        <var_struct name="mesh" time_levs="1">
                <var name="latCell" type="real" dimensions="nCells" units="rad"
                     description="Latitude of cells"/>

                <var name="lonCell" type="real" dimensions="nCells" units="rad"
                     description="Longitude of cells"/>

                <var name="xCell" type="real" dimensions="nCells" units="m"
                     description="Cartesian x-coordinate of cells"/>

                <var name="yCell" type="real" dimensions="nCells" units="m"
                     description="Cartesian y-coordinate of cells"/>

                <var name="zCell" type="real" dimensions="nCells" units="m"
                     description="Cartesian z-coordinate of cells"/>

                <var name="indexToCellID" type="integer" dimensions="nCells" units="-"
                     description="Mapping from local array index to global cell ID"/>

                <var name="latEdge" type="real" dimensions="nEdges" units="rad"
                     description="Latitude of edges"/>

                <var name="lonEdge" type="real" dimensions="nEdges" units="rad"
                     description="Longitude of edges"/>

                <var name="xEdge" type="real" dimensions="nEdges" units="m"
                     description="Cartesian x-coordinate of edges"/>

                <var name="yEdge" type="real" dimensions="nEdges" units="m"
                     description="Cartesian y-coordinate of edges"/>

                <var name="zEdge" type="real" dimensions="nEdges" units="m"
                     description="Cartesian z-coordinate of edges"/>

                <var name="indexToEdgeID" type="integer" dimensions="nEdges" units="-"
                     description="Mapping from local array index to global edge ID"/>

                <var name="latVertex" type="real" dimensions="nVertices" units="rad"
                     description="Latitude of vertices"/>

                <var name="lonVertex" type="real" dimensions="nVertices" units="rad"
                     description="Longitude of vertices"/>

                <var name="xVertex" type="real" dimensions="nVertices" units="m"
                     description="Cartesian x-coordinate of vertices"/>

                <var name="yVertex" type="real" dimensions="nVertices" units="m"
                     description="Cartesian y-coordinate of vertices"/>

                <var name="zVertex" type="real" dimensions="nVertices" units="m"
                     description="Cartesian z-coordinate of vertices"/>

                <var name="indexToVertexID" type="integer" dimensions="nVertices" units="-"
                     description="Mapping from local array index to global vertex ID"/>

                <var name="cellsOnEdge" type="integer" dimensions="TWO nEdges" units="-"
                     description="IDs of cells divided by an edge"/>

                <var name="nEdgesOnCell" type="integer" dimensions="nCells" units="-"
                     description="Number of edges forming the boundary of a cell"/>

                <var name="nEdgesOnEdge" type="integer" dimensions="nEdges" units="-"
                     description="Number of edges involved in reconstruction of tangential velocity for an edge"/>

                <var name="edgesOnCell" type="integer" dimensions="maxEdges nCells" units="-"
                     description="IDs of edges forming the boundary of a cell"/>

                <var name="edgesOnEdge" type="integer" dimensions="maxEdges2 nEdges" units="-"
                     description="IDs of edges involved in reconstruction of tangential velocity for an edge"/>

                <var name="weightsOnEdge" type="real" dimensions="maxEdges2 nEdges" units="unitless"
                     description="Weights used in reconstruction of tangential velocity for an edge"/>

                <var name="dvEdge" type="real" dimensions="nEdges" units="m"
                     description="Spherical distance between vertex endpoints of an edge"/>

                <var name="dcEdge" type="real" dimensions="nEdges" units="m"
                     description="Spherical distance between cells separated by an edge "/>

                <var name="angleEdge" type="real" dimensions="nEdges" units="rad"
                     description="Angle between local north and the positive tangential direction of an edge"/>

                <var name="areaCell" type="real" dimensions="nCells" units="m^2"
                     description="Spherical area of a Voronoi cell"/>

                <var name="areaTriangle" type="real" dimensions="nVertices" units="m^2"
                     description="Spherical area of a Delaunay triangle"/>

                <var name="edgeNormalVectors" type="real" dimensions="R3 nEdges" units="unitless"
                     description="Cartesian components of the vector normal to an edge and tangential to the surface of the sphere"/>

                <var name="localVerticalUnitVectors" type="real" dimensions="R3 nCells" units="unitless"
                     description="Cartesian components of the vector pointing in the local vertical direction for a cell"/>

                <var name="cellTangentPlane" type="real" dimensions="R3 TWO nCells" units="unitless"
                     description="Components of a pair of vectors defining the tangent plane at a cell"/>

                <var name="cellsOnCell" type="integer" dimensions="maxEdges nCells" units="-"
                     description="IDs of cells neighboring a cell"/>

                <var name="verticesOnCell" type="integer" dimensions="maxEdges nCells" units="-"
                     description="IDs of vertices (corner points) of a cell"/>

                <var name="verticesOnEdge" type="integer" dimensions="TWO nEdges" units="-"
                     description="IDs of the two vertex endpoints of an edge"/>

                <var name="edgesOnVertex" type="integer" dimensions="vertexDegree nVertices" units="-"
                     description="IDs of the edges that meet at a vertex"/>

                <var name="cellsOnVertex" type="integer" dimensions="vertexDegree nVertices" units="-"
                     description="IDs of the cells that meet at a vertex"/>

                <var name="kiteAreasOnVertex" type="real" dimensions="vertexDegree nVertices" units="m^2"
                     description="Intersection areas between primal (Voronoi) and dual (triangular) mesh cells"/>

                <var name="fEdge" type="real" dimensions="nEdges" units="unitless"
                     description="Coriolis parameter at an edge"/>

                <var name="fVertex" type="real" dimensions="nVertices" units="unitless"
                     description="Coriolis parameter at a vertex"/>

                <var name="meshDensity" type="real" dimensions="nCells" units="unitless"
                     description="Mesh density function (used when generating the mesh) evaluated at a cell"/>


                <!-- coefficients for vertical extrapolation to the surface -->
                <var name="cf1" type="real" dimensions="" units="unitless"
                     description="Surface interpolation weight for level k=1 value"/>

                <var name="cf2" type="real" dimensions="" units="unitless"
                     description="Surface interpolation weight for level k=2 value"/>

                <var name="cf3" type="real" dimensions="" units="unitless"
                     description="Surface interpolation weight for level k=3 value"/>


                <!-- static terrestrial fields -->
                <var name="ter" type="real" dimensions="nCells" units="m"
                     description="Terrain elevation"/>
                <var name="landmask" type="integer"  dimensions="nCells" units="unitless"
                     description="land-ocean mask (1=land ; 0=ocean)"/>

                <var name="ivgtyp" name_in_code="lu_index" type="integer" dimensions="nCells" units="unitless"
                     description="dominant vegetation category"/>

                <var name="mminlu" type="text" dimensions="" units="unitless"
                     description="land use classification"/>

                <var name="isltyp" name_in_code="soilcat_top" type="integer" dimensions="nCells" units="unitless"
                     description="dominant top-layer soil category"/>

                <var name="soilcat_bot" type="integer" dimensions="nCells" units="unitless"
                     description="dominant bottom-layer soil category"/>

                <var name="snoalb" type="real"  dimensions="nCells" units="unitless"
                     description="annual maximum snow albedo"/>

                <var name="soiltemp" type="real" dimensions="nCells" units="K" 
                     description="climatological deep layer soil temperature"/>

                <var name="shdmin" type="real" dimensions="nCells" units="unitless"
                     description="minimum fractional coverage of annual green vegetation fraction"/>

                <var name="shdmax" type="real" dimensions="nCells" units="unitless"
                     description="maximum fractional coverage of annual green vegetation fraction"/>

                <var name="albedo12m" type="real" dimensions="nMonths nCells" units="unitless"
                     description="monthly-mean climatological aurface albedo"/>

                <var name="greenfrac" type="real" dimensions="nMonths nCells" units="unitless"
                     description="monthly-mean climatological greeness fraction"/>


                <!-- GWDO fields -->
                <var name="varsso" type="real" dimensions="nCells" units="m^{2}"
                     description="variance of sub-grid scale orography"/>

                <var name="var2d" type="real" dimensions="nCells" units="m^{2}"
                     description="variance of orography"/>

                <var name="con" type="real" dimensions="nCells" units="m^{2}"
                     description="convexity of orography"/>

                <var name="oa1" type="real" dimensions="nCells" units="unitless"
                     description="directional asymmetry function of orography"/>

                <var name="oa2" type="real" dimensions="nCells" units="unitless"
                     description="directional asymmetry function of orography"/>

                <var name="oa3" type="real" dimensions="nCells" units="unitless"
                     description="directional asymmetry function of orography"/>

                <var name="oa4" type="real" dimensions="nCells" units="unitless"
                     description="directional asymmetry function of orography"/>

                <var name="ol1" type="real" dimensions="nCells" units="unitless"
                     description="directional asymmetry function of orography"/>

                <var name="ol2" type="real" dimensions="nCells" units="unitless"
                     description="directional asymmetry function of orography"/>

                <var name="ol3" type="real" dimensions="nCells" units="unitles"
                     description="directional asymmetry function of orography"/>

                <var name="ol4" type="real" dimensions="nCells" units="unitless"
                     description="directional asymmetry function of orography"/>


                <!-- description of the vertical grid structure -->
                <var name="hx" type="real" dimensions="nVertLevelsP1 nCells" units="m"
                     description="Effective terrain used in computing vertical coordinate surfaces"/>

                <var name="zgrid" type="real" dimensions="nVertLevelsP1 nCells" units="m MSL"
                     description="Geometric height of layer interfaces"/>

                <var name="rdzw" type="real" dimensions="nVertLevels" units="unitless"
                     description="Reciprocal dzw"/>

                <var name="dzu" type="real" dimensions="nVertLevels" units="unitless"
                     description="d(zeta) at w levels"/>

                <var name="rdzu" type="real" dimensions="nVertLevels" units="unitless"
                     description="Reciprocal dzu"/>

                <var name="fzm" type="real" dimensions="nVertLevels" units="unitless"
                     description="Weight for linear interpolation to w(k) point for u(k) level variable"/>

                <var name="fzp" type="real" dimensions="nVertLevels" units="unitless"
                     description="Weight for linear interpolation to w(k) point for u(k-1) level variable"/>

                <var name="zx" type="real" dimensions="nVertLevelsP1 nEdges" units="m"
                     description="dz/dx"/>

                <var name="zz" type="real" dimensions="nVertLevelsP1 nCells" units="m^{-1}"
                     description="d(zeta)/dz"/>

                <var name="zb" type="real" dimensions="nVertLevelsP1 TWO nEdges" units="unitless"
                     description="Coefficients for contribution from u to w diagnosis"/>

                <var name="zb3" type="real" dimensions="nVertLevelsP1 TWO nEdges" units="unitless"
                     description="Coefficients for 3rd-order contribution from u to w diagnosis"/>

                <!-- W-Rayleigh damping coefficient -->
                <var name="dss" type="real" dimensions="nVertLevels nCells" units="unitless"
                     description="w-damping coefficient"/>

                <var name="u_init" type="real" dimensions="nVertLevels" units="m s^{-1}"
                     description="u reference profile"/>

                <var name="t_init" type="real" dimensions="nVertLevels nCells" units="K"
                     description="theta reference profile"/>

                <var name="qv_init" type="real" dimensions="nVertLevels" units="kg kg^{-1}"
                     description="qv reference profile"/>


                <!-- variables needed for advection -->
                <var name="deriv_two" type="real" dimensions="FIFTEEN TWO nEdges" units="unitless"
                     description="weights for cell-centered second derivative, normal to edge, for transport scheme"/>

                <var name="advCells" type="integer" dimensions="TWENTYONE nCells" units="-"
                     description="YYY"/>

                <!-- deformation calculation weights -->
                <var name="defc_a" type="real" dimensions="maxEdges nCells" units="unitless"
                     description="Coefficients for computing the off-diagonal components of the horizontal deformation"/>

                <var name="defc_b" type="real" dimensions="maxEdges nCells" units="unitless"
                     description="Coefficients for computing the diagonal components of the horizontal deformation"/>

                <!-- arrays required for reconstruction of velocity field -->
                <var name="coeffs_reconstruct" type="real" dimensions="R3 maxEdges nCells" units="unitless"
                     description="Coefficients to reconstruct velocity vectors at cell centers"/>

        </var_struct>

        <var_struct name="state" time_levs="1">
                <var name="xtime" type="text" dimensions="Time" units="YYYY-MM-DD_hh:mm:ss"
                     description="Model valid time"/>

                <var name="u" type="real" dimensions="nVertLevels nEdges Time" units="m s^{-1}"
                     description="Horizontal normal velocity at edges"/>

                <var name="w" type="real" dimensions="nVertLevelsP1 nCells Time" units="m s^{-1}"
                     description="Vertical velocity at vertical cell faces"/>

                <var name="rho_zz" type="real" dimensions="nVertLevels nCells Time" units="?"
                     description="Dry density divided by d(zeta)/dz"/>

                <var name="theta_m" type="real" dimensions="nVertLevels nCells Time" units="K"
                     description="Moist potential temperature"/>

                <var_array name="scalars" type="real" dimensions="nVertLevels nCells Time">
                        <var name="qv"      array_group="moist" units="kg kg^{-1}"
                             description="Water vapor mixing ratio"/>

                        <var name="qc"      array_group="moist" units="kg kg^{-1}"
                             description="Cloud water mixing ratio"/>

                        <var name="qr"      array_group="moist" units="kg kg^{-1}"
                             description="Rain water mixing ratio"/>

                </var_array>
        </var_struct>

        <var_struct name="fg" time_levs="1">
                
                <!-- horizontally interpolated from first-guess data -->
                <var name="u_fg" name_in_code="u" type="real" dimensions="nFGLevels nEdges Time" units="m s^{-1}"
                     description="Zonal wind on first-guess vertical levels"/>

                <var name="v_fg" name_in_code="v" type="real" dimensions="nFGLevels nEdges Time" units="m s^{-1}"
                     description="Meridional wind on first-guess vertical levels"/>

                <var name="t_fg" name_in_code="t" type="real" dimensions="nFGLevels nCells Time" units="K"
                     description="Temperature on first-guess vertical levels"/>

                <var name="p_fg" name_in_code="p" type="real" dimensions="nFGLevels nCells Time" units="Pa"
                     description="Pressure on first-guess vertical levels"/>

                <var name="z_fg" name_in_code="z" type="real" dimensions="nFGLevels nCells Time" units="m"
                     description="Geopotential height on first-guess vertical levels"/>

                <var name="rh_fg" name_in_code="rh" type="real" dimensions="nFGLevels nCells Time" units="percent"
                     description="Relative humidity on first-guess vertical levels"/>

                <var name="soilz_fg" name_in_code="soilz" type="real" dimensions="nCells Time" units="m"
                     description="Terrain elevation of first-guess data"/>

                <var name="psfc_fg" name_in_code="psfc" type="real" dimensions="nCells Time" units="Pa"
                     description="Surface pressure in first-guess data"/>

                <var name="pmsl_fg" name_in_code="pmsl" type="real" dimensions="nCells Time" units="Pa"
                     description="Mean sea-level pressure in first-guess data"/>

                <var name="dz_fg" type="real" dimensions="nFGSoilLevels nCells Time" units="?"
                     description="Possibly not used..."/>

                <var name="dzs_fg" type="real" dimensions="nFGSoilLevels nCells Time" units="m"
                     description="Thickness of first-guess soil layers"/>

                <var name="zs_fg" type="real" dimensions="nFGSoilLevels nCells Time" units="m"
                     description="Depth of center of first-guess soil layers"/>

                <var name="st_fg" type="real" dimensions="nFGSoilLevels nCells Time" units="K"
                     description="Soil temperature of first-guess soil layers"/>

                <var name="sm_fg" type="real" dimensions="nFGSoilLevels nCells Time" units="m^3 m^{-3}"
                     description="Soil moisture of first-guess soil layers"/>


                <!-- horizontally interpolated from first-guess data, and should be read in by model -->

                <var name="dz" type="real" dimensions="nSoilLevels nCells Time" units="?"
                     description="Possibly not used..."/>

                <var name="dzs" type="real" dimensions="nSoilLevels nCells Time" units="m"
                     description="soil layer thickness"/>

                <var name="zs" type="real" dimensions="nSoilLevels nCells Time" units="m"
                     description="depth of center of soil layers"/>

                <var name="smcrel" type="real" dimensions="nSoilLevels nCells Time" units="m3 m^{-3}"
                     description="soil moisture threshold below which transpiration begins to stress"/>

                <var name="sh2o" type="real" dimensions="nSoilLevels nCells Time" units="m3 m^{-3}"
                     description="soil equivalent liquid water "/>

                <var name="smois" type="real" dimensions="nSoilLevels nCells Time" units="m3 m^{-3}"
                     description="soil moisture"/>

                <var name="tslb" type="real" dimensions="nSoilLevels nCells Time" units="K"
                     description="soil layer temperature"/>

                <var name="tmn" type="real" dimensions="nCells Time" units="K"
                     description="deep soil temperature"/>

                <var name="skintemp" type="real" dimensions="nCells Time" units="K"
                     description="ground or water surface temperature"/>

                <var name="sst" type="real" dimensions="nCells Time" units="K"
                     description="sea-surface temperature"/>

                <var name="snow" type="real" dimensions="nCells Time" units="kg m^{-2}"
                     description="snow water equivalent"/>

                <var name="snowc" type="real" dimensions="nCells Time" units="unitless"
                     description="flag for snow on ground (=0 no snow; =1,otherwise"/>

                <var name="snowh" type="real" dimensions="nCells Time" units="m"
                     description="physical snow depth"/>

                <var name="seaice" type="real" dimensions="nCells Time" units="unitless"
                     description="sea-ice flag (0=no seaice; =1 otherwise)"/>

                <var name="xice" type="real" dimensions="nCells Time" units="unitless"
                     description="fractional area coverage of sea-ice"/>

                <var name="xland" type="real" dimensions="nCells Time" units="unitless"
                     description="land-ocean mask (1=land including sea-ice ; 2=ocean)"/>

                <var name="vegfra" type="real" dimensions="nCells Time" units="unitless"
                     description="vegetation fraction"/>

                <var name="gfs_z" type="real" dimensions="nVertLevels nCells Time" units="m"
                     description="geopotential height of first-guess levels"/>

                <var name="sfc_albbck" type="real" dimensions="nCells Time" units="unitless"
                     description="background surface albedo"/>


        </var_struct>

        <var_struct name="diag" time_levs="1">
                <var name="pressure_p" type="real" dimensions="nVertLevels nCells Time" units="Pa"
                     description="Perturbation pressure"/>

                <var name="rho" type="real" dimensions="nVertLevels nCells Time" units="kg m^{-3}"
                     description="Dry air density"/>

                <var name="theta" type="real" dimensions="nVertLevels nCells Time" units="K"
                     description="Potential temperature"/>

                <var name="rh" type="real" dimensions="nVertLevels nCells Time" units="percent"
                     description="Relative humidity"/>

                <var name="v" type="real" dimensions="nVertLevels nEdges Time" units="m s^{-1}"
                     description="Horizontal tangential velocity at edges"/>

                <var name="uReconstructX" type="real" dimensions="nVertLevels nCells Time" units="m s^{-1}"
                     description="Cartesian x-component of reconstructed horizontal velocity at cell centers"/>

                <var name="uReconstructY" type="real" dimensions="nVertLevels nCells Time" units="m s^{-1}"
                     description="Cartesian y-component of reconstructed horizontal velocity at cell centers"/>

                <var name="uReconstructZ" type="real" dimensions="nVertLevels nCells Time" units="m s^{-1}"
                     description="Cartesian z-component of reconstructed horizontal velocity at cell centers"/>

                <var name="uReconstructZonal" type="real" dimensions="nVertLevels nCells Time" units="m s^{-1}"
                     description="Zonal component of reconstructed horizontal velocity at cell centers"/>

                <var name="uReconstructMeridional" type="real" dimensions="nVertLevels nCells Time" units="m s^{-1}"
                     description="Meridional component of reconstructed horizontal velocity at cell centers"/>

                <var name="exner" type="real" dimensions="nVertLevels nCells Time" units="ZZZ"
                     description="Exner function"/>

                <var name="exner_base" type="real" dimensions="nVertLevels nCells Time" units="ZZZ"
                     description="YYY"/>

                <var name="rtheta_base" type="real" dimensions="nVertLevels nCells Time" units="ZZZ"
                     description="YYY"/>

                <var name="pressure" type="real" dimensions="nVertLevels nCells Time" units="Pa"
                     description="Pressure"/>

                <var name="pressure_base" type="real" dimensions="nVertLevels nCells Time" units="Pa"
                     description="Base state pressure"/>

                <var name="rho_base" type="real" dimensions="nVertLevels nCells Time" units="kg m^{-3}"
                     description="Base state dry air density"/>

                <var name="theta_base" type="real" dimensions="nVertLevels nCells Time" units="K"
                     description="Base state potential temperature"/>

                <var name="cqw" type="real" dimensions="nVertLevels nCells Time" units="ZZZ"
                     description="YYY"/>

                <var name="surface_pressure" type="real" dimensions="nCells Time" units="Pa"
                     description="Diagnosed surface pressure"/>


                <!-- coupled variables needed by the solver, but not output -->
                <var name="ru" type="real" dimensions="nVertLevels nEdges Time" units="ZZZ"
                     description="YYY"/>

                <var name="rw" type="real" dimensions="nVertLevelsP1 nCells Time" units="ZZZ"
                     description="YYY"/>

                <var name="rtheta_p" type="real" dimensions="nVertLevels nCells Time" units="ZZZ"
                     description="YYY"/>

                <var name="rho_p" type="real" dimensions="nVertLevels nCells Time" units="ZZZ"
                     description="YYY"/>

        </var_struct>

        <var_struct name="diag_physics" time_levs="1">
                <var name="precipw" type="real" dimensions="nCells Time" units="kg m^{-2}"
                     description="precipitable water"/>

        </var_struct>
</registry>
